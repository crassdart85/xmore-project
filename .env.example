# Xmore Data Layer - Configuration Template
# Copy this to .env and fill in your values

# ═══════════════════════════════════════════════════════════════════════════
# API KEYS & AUTHENTICATION
# ═══════════════════════════════════════════════════════════════════════════

# Alpha Vantage API Key (optional, for tertiary fallback)
# Get free key: https://www.alphavantage.co/api/
# Leave empty to disable Alpha Vantage fallback
ALPHA_VANTAGE_API_KEY=

# ═══════════════════════════════════════════════════════════════════════════
# CACHE CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════

# Cache directory (relative or absolute path)
# Default: .cache/market_data
CACHE_DIR=.cache/market_data

# Cache expiration time in hours
# Set to 0 to disable caching entirely
# Default: 24 (1 day)
CACHE_EXPIRATION_HOURS=24

# ═══════════════════════════════════════════════════════════════════════════
# LOGGING CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════

# Log level: DEBUG, INFO, WARNING, ERROR
# Default: INFO
LOG_LEVEL=INFO

# Log file path (relative or absolute)
# Default: logs/xmore_data.log
LOG_FILE=logs/xmore_data.log

# ═══════════════════════════════════════════════════════════════════════════
# PROVIDER CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════

# EGXPY timeout in seconds
# Default: 30
EGXPY_TIMEOUT=30

# EGXPY retry attempts
# Default: 3
EGXPY_RETRIES=3

# ═══════════════════════════════════════════════════════════════════════════
# RETRY & BACKOFF CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════

# Maximum number of retry attempts for all providers
# Default: 3
RETRY_ATTEMPTS=3

# Initial delay between retries in seconds (exponential backoff)
# Sequence: 1s, 2s, 4s, 8s, 16s, 32s...
# Default: 1.0
RETRY_BASE_DELAY=1.0

# Maximum delay between retries (cap on exponential backoff)
# Default: 32.0
RETRY_MAX_DELAY=32.0

# ═══════════════════════════════════════════════════════════════════════════
# USAGE NOTES
# ═══════════════════════════════════════════════════════════════════════════
#
# 1. ALPHA_VANTAGE_API_KEY
#    - Optional, needed only if yfinance/EGXPY unavailable
#    - Free tier limited to 5 calls/minute
#    - Get key from: https://www.alphavantage.co/api/
#
# 2. CACHE_DIR
#    - Files stored as: SYMBOL_INTERVAL_HASH.joblib
#    - Auto-created if doesn't exist
#    - Can be cleaned manually or via CLI: xmore-data --clear-cache
#
# 3. LOG_LEVEL
#    - DEBUG: Very verbose, shows all function calls
#    - INFO: Normal operation (recommended)
#    - WARNING: Only problems and fallbacks
#    - ERROR: Only critical failures
#
# 4. RETRY STRATEGY
#    - Uses exponential backoff with jitter
#    - Helps with rate limits and temporary outages
#    - Max total wait: sum of geometric series
#
# ═══════════════════════════════════════════════════════════════════════════
